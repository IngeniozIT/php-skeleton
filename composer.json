{
    "name": "ingenioz-it/php-skeleton",
    "description": "A clean new PHP project",
    "type": "project",
    "license": "MIT",
    "authors": [
        {
            "name": "IngeniozIT",
            "email": "contact@ingenioz.it"
        }
    ],
    "minimum-stability": "dev",
    "prefer-stable": true,
    "require": {
        "php": ">=8.5"
    },
    "require-dev": {
        "phpunit/phpunit": "*",
        "squizlabs/php_codesniffer": "*",
        "phpstan/phpstan": "*",
        "infection/infection": "*",
        "phpmd/phpmd": "*",
        "rector/rector": "*"
    },
    "autoload": {
        "psr-4": {
            "App\\": "src/"
        }
    },
    "autoload-dev": {
        "psr-4": {
            "App\\": "src/",
            "App\\Tests\\": "tests/"
        }
    },
    "scripts": {
        "serve": [
            "Composer\\Config::disableProcessTimeout",
            ". infra/.env && php -S localhost:${WEB_PORT} public/index.php"
        ],
        "test": "vendor/bin/phpunit -c ./quality/phpunit.xml.dist",
        "testdox": "@test --testdox",
        "mutation": "XDEBUG_MODE=coverage vendor/bin/infection -j$(nproc) --configuration=./quality/infection.json.dist",
        "fulltest": [
          "@test",
          "@mutation",
          "@lint",
          "@stan",
          "@smells",
          "echo 'OK'"
        ],
        "doc": [
          "@coverage-html --testdox-html ./doc/documentation.html",
          "@mutation",
          "echo 'OK'"
        ],
        "coverage-html": "XDEBUG_MODE=coverage vendor/bin/phpunit -c ./quality/phpunit.xml.dist --coverage-html ./doc/code-coverage",
        "coverage-xml": "XDEBUG_MODE=coverage vendor/bin/phpunit -c ./quality/phpunit.xml.dist --coverage-clover ./doc/code-coverage/coverage.xml",
        "lint": "vendor/bin/phpcs --standard=./quality/phpcs.xml.dist",
        "lint-fix": "vendor/bin/phpcbf --standard=./quality/phpcs.xml.dist",
        "stan": "vendor/bin/phpstan analyze -c ./quality/phpstan.neon.dist",
        "smells": "vendor/bin/phpmd src/ text quality/phpmd.xml.dist",
        "refactor": "vendor/bin/rector process --config ./quality/rector.php",
        "refactor-dry": "vendor/bin/rector process --config ./quality/rector.php --dry-run"
    },
    "scripts-descriptions": {
        "serve": "Run a local web server",
        "test": "Run the unit tests",
        "testdox": "Run the unit tests with testdox output",
        "mutation": "Run the mutation testing (infection)",
        "fulltest": "Run all the quality tools",
        "doc": "Generate documentation",
        "coverage-html": "Generate HTML coverage report",
        "coverage-xml": "Generate XML coverage report",
        "lint": "Run the linter (phpcs)",
        "lint-fix": "Fix the linter errors (phpcbf)",
        "stan": "Run the static analysis (phpstan)",
        "smells": "Check for code smells (phpmd)",
        "refactor": "Refactor code (rector)",
        "refactor-dry": "Dry-run refactor (rector)"
    },
    "config": {
        "allow-plugins": {
            "infection/extension-installer": true
        }
    }
}

{
    "name": "ingenioz-it/php-skeleton",
    "description": "A clean new PHP project",
    "type": "project",
    "license": "MIT",
    "authors": [
        {
            "name": "IngeniozIT",
            "email": "contact@ingenioz.it"
        }
    ],
    "minimum-stability": "dev",
    "prefer-stable": true,
    "require": {
        "php": ">=8.4"
    },
    "require-dev": {
        "phpunit/phpunit": "*",
        "squizlabs/php_codesniffer": "*",
        "phpstan/phpstan": "*",
        "vimeo/psalm": "*",
        "phan/phan": "*",
        "infection/infection": "*",
        "phpmd/phpmd": "*",
        "rector/rector": "*"
    },
    "autoload": {
        "psr-4": {
            "App\\": "src/"
        }
    },
    "autoload-dev": {
        "psr-4": {
            "App\\": "src/"
        }
    },
    "scripts": {
        "serve": [
            "Composer\\Config::disableProcessTimeout",
            ". infra/.env && php -S localhost:${WEB_PORT} public/index.php"
        ],
        "test": "vendor/bin/phpunit -c ./quality/phpunit.xml.dist",
        "testdox": "@test --testdox",
        "coverage-html": "XDEBUG_MODE=coverage vendor/bin/phpunit -c ./quality/phpunit.xml.dist --coverage-html ./tmp/code-coverage",
        "coverage-xml": "XDEBUG_MODE=coverage vendor/bin/phpunit -c ./quality/phpunit.xml.dist --coverage-clover ./tmp/code-coverage/coverage.xml",
        "phpcbf": "vendor/bin/phpcbf --standard=./quality/phpcs.xml.dist",
        "rector": "vendor/bin/rector process --config ./quality/rector.php",
        "rector-dry": "vendor/bin/rector process --config ./quality/rector.php --dry-run",
        "phpcs": "vendor/bin/phpcs --standard=./quality/phpcs.xml.dist",
        "phpstan": "vendor/bin/phpstan analyze -c ./quality/phpstan.neon.dist",
        "psalm": "vendor/bin/psalm --no-cache --config ./quality/psalm.xml.dist",
        "phan": "php -d extension=ast.so -d extension=pcntl.so -n vendor/bin/phan --config-file ./quality/phan.php",
        "phan-silent": "vendor/bin/phan --no-progress-bar --config-file ./quality/phan.php",
        "infection": "XDEBUG_MODE=coverage vendor/bin/infection -j$(nproc) --configuration=./quality/infection.json.dist",
        "phpmd": "vendor/bin/phpmd src/ text quality/phpmd.xml.dist",
        "doc": [
            "@coverage-html",
            "@infection",
            "echo 'OK'"
        ],
        "fulltest": [
            "@test",
            "@infection",
            "@phpcs",
            "@phpmd",
            "@phpstan",
            "@psalm",
            "@phan",
            "echo 'OK'"
        ]
    },
    "scripts-descriptions": {
        "serve": "Run a local web server",
        "test": "Run unit tests",
        "testdox": "Run unit tests with testdox output",
        "fulltest": "Run all quality tools",
        "doc": "Generate documentation",
        "coverage-html": "Generate HTML coverage report",
        "coverage-xml": "Generate XML coverage report",
        "phpcbf": "Run phpcbf",
        "phpcs": "Run phpcs",
        "phpstan": "Run phpstan",
        "psalm": "Run psalm",
        "phan": "Run phan",
        "phan-silent": "Run phan without progress bar",
        "infection": "Run infection",
        "phpmd": "Run phpmd",
        "rector": "Refactor code with Rector",
        "rector-dry": "Dry-run Rector"
    },
    "config": {
        "allow-plugins": {
            "infection/extension-installer": true
        }
    }
}
